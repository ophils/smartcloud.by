<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional">
<html><head><meta http-equiv="content-type" content="text/html" charset="utf-8">
<title>Остров пингвинов. Этюд о героях невидимого фронта</title>
<meta name="description" lang="ru" content="Этюд о героях невидимого фронта, статья Олега П. Филона,группа пользователей Линукс, Гомель, Беларусь">
<meta name="keywords" lang="en" content="Linux, Unix, LUG, Oleg P. Philon, articles, Gomel, Belarus, ex-USSR, hacker, hacks, Debian, free software, Richard Stallman, Linus Torvalds, Eric Raymond, shell, bash, textutils, consultant, expert, microhack, tricks, tips, russian, education, crisis, economy, information security, example">
<meta name="keywords" lang="ru" content="Линукс, Юникс, Дебиан, открытые программы, программирование, Ричард Столмен, Линус Торвалдс, Эрик Рэймонд, Гомель, Беларусь, пользователи Линукс, Олег П. Филон, статьи, кризис ПО, хаки, хакеры, эксперт, консультант, администрирование, серверы, сети, помощь, обучение, пример, микрохаки">
<meta name="author" content="Олег П. Филон">
<meta name="copyright" content="&copy; FDL, Олег П. Филон">
<link rel="e-mail" href="mailto:smartcloud.by@gmail.com">
<meta name="date" content="2002-12-22">
<meta name="version" content="1.1">
<style type="text/css">
<!--
body, p, div, td, th, tr, form, ol, ul, li, input, textarea, select, a
	{ 	font-family: Verdana,Geneva,Arial,Helvetica,sans-serif;
		font-size: 11pt;
    }
body	{	background: white;
		margin: 3px;
    }
p 	{	display: block;
		text-align: justify;
		line-height: 120%;
		margin: 4px;
    }	
b 	{ 	font-weight: bold;
		color: blue;
    }
pre, code, tt { font: "Courier New", Courier, monospace;
		line-height: 120%;
		font-size: 11pt;
    }

a	{	font-family: Verdana,Geneva,Arial,Helvetica,sans-serif;
		font-size:12pt;
		text-decoration:underline;
		color: blue
    }
a:hover {	color: red
    }
-->
</style>
<script type="text/javascript" language=JavaScript>
<!--
newbie = new Image();
newbie.src="../img/newbie.gif";
guru = new Image();
guru.src="../img/guru.gif";
comm = new Image();
comm.src="../img/forum.gif";
about = new Image();
about.src="../img/about.gif";
-->
</script>

</head><body>
<table cellpadding=0 cellspacing=3 border=0 summary="макет страницы">
<tr valign=top><td><a href=../index.html><img src="../img/topbox.gif" alt="Остров пингвинов"></a></td>
<td height=60 bgcolor="#FFCC33"></td></tr>
<tr><td colspan=2><img src="../img/blue-line.gif" width=600 height=5
alt="- - - - - - - - - - - - - - - - - - - - - - -">
<tr valign=top><td width=131>
<img name="corner" src="../img/articles.gif" width=125 height=91 alt="Сольные выступления"><br><br>
<a href="../articles/newbie.html" onmouseover="document.corner.src='../img/newbie.gif';return true" onmouseout="document.corner.src='../img/articles.gif';return true">Для начинающих</a><br><br>
<a href="../articles/guru.html" onmouseover="document.corner.src='../img/guru.gif';return true" onmouseout="document.corner.src='../img/articles.gif';return true">Для знатоков</a><br><br>
<a href="../articles/community.html" onmouseover="document.corner.src='../img/forum.gif';return true" onmouseout="document.corner.src='../img/articles.gif';return true">Для души</a><br><br>
<a href="../articles/about.html" onmouseover="document.corner.src='../img/about.gif';return true" onmouseout="document.corner.src='../img/articles.gif';return true">О нас</a>
<br>
<a href="crisis_prog.html">Кризис в программном обеспечении и способы его преодоления</a>
<br>
<a href="readers-mail.html">Кризис ПО - полемика вокруг статьи</a>
<br>
<a href="micro-hacks.html">Микро хаки: советы и приемы эффективной работы</a>
</td><td>

<strong>Этюд о героях невидимого фронта</strong>
<p align=right><i>Copyright(С) Олег П. Филон<br>
канун 2000, Гомель, BY<br>
<a href="mailto:smartcloud.by@gmail.com">smartcloud.by@gmail.com</a></i><br>
<p>
Виртуальный мир полон реальных героев. Имена некоторых из них получили
заслуженное признание и известны далеко за пределами виртуального
мира Сети. Скажу даже больше: если вам ничего не говорят имена Ричарда
Столмена, Линуса Торвальдса или Эрика Реймонда - в вашем компьютерном
образовании серьезный пробел и вы пропустили первые серии захватывающего
фантастического триллера на компьютерную тему. Так что хотя бы вкратце
содержание предыдущих серий.
<p>
Талантливый ученый-идеалист из лаборатории искусственного интеллекта
решается начать борьбу против могущественной империи, поработившей
программистов и беззастенчиво присваивающей результаты их труда. Он
публикует революционный манифест и начинает долгую трудную войну,
чтобы вернуть народу то, что изначально ему принадлежало - исходные
коды программ.
<p>
Любознательный студент-первокурсник в заснеженной Финляндии на другом
конце земного шара публикует в Сети Интернет крошечную программку,
которая начинает стремительно расти. Вокруг этого проекта под названием
ядро Линукс объединяют свои усилия тысячи добровольцев и он постепенно
проникает на миллионы компьютеров по всему миру.
<p>
Ловкий секретный агент, умело разыграв измену повстанческой армии,
проникает в самое логово враждебной империи и ведет рискованную
подрывную работу. В результате на сторону повстанцев переходят целые
армии противника, победы следуют одна за другой. Народ, правительства
и бизнес признают и награждают наших героев.
<p>
Если же говорить серьезно, то до полной победы пока далеко и нам еще
предстоит увидеть много драматических сражений и при желании в них
поучаствовать. Но уже сейчас нужно назвать имена героев, бескорыстно
отдающих свой труд и свое вдохновение всем, кто использует открытые
программы из проекта GNU, в том числе и саму ОС Линукс.  Таких программ
уже многие тысячи и у каждой из них множество авторов и соавторов,
так что полный список составил бы десятки тысяч человек. Этому списку
черед еще придет, а мы пока порассуждаем о том, что же заставляет людей
становиться такими альтруистами.
<p>
Ричард Столмен в своем Манифесте GNU описывает причины, почему он раздает
свои программы людям и надеется, что найдется много программистов, которые
последуют его примеру. На первых порах его борьба была действительно
трудна. Первые версии программ из проекта GNU были по сегодняшним меркам
любительскими, многие из них пришлось писать наново, с нуля, общение
с единомышленниками было затруднено - Internet еще не получил широкого
распространения. Пришлось также доказывать, почему нужно использовать
именно лицензию GNU GPL. Только сейчас, спустя много лет и наблюдая
триумф свободных программ, очевидна важность этой лицензии. Она является
гарантией, что программа останется открытой навсегда, и налагает
обязательство на каждого, кто распространяет подобную программу:
всегда публиковать исходный код, в том числе и сделанных изменений.
Эта лицензия также гарантирует авторство разработчикам, так что мы
сможем и через десятки лет узнать имена каждого, кто сделал вклад в
данную конкретную программу.
<p>
Подробный анализ мотивов, движущих авторами свободных программ, сделал
Эрик С. Реймонд в своей статье "The Cathedral and the Bazaar". Анализируя
собственный опыт открытой разработки и феноменальный успех проекта Линуса,
Эрик не только показал жизнеспособность открытого метода разработки
программ, но и убедил некоторых известных производителей ПО попробовать
этот метод в своей практике. К его глубинному анализу изнутри проекта,
простирающемуся от цитат из классика анархизма Петра Кропоткина и вплоть
до сравнения с саморегулирующимися биологическими и рыночными системами,
осмелюсь добавить одно замечание со стороны.
<p>
В полном соответствии с лицензией GNU и сложившейся традицией каждый
фрагмент кода сохраняет имя автора и его комментарии. В случае
ядра Линукс это привело к любопытной ситуации, когда внимательный
пользователь просканировал (в смысле grep) мегабайты кода и поразился
обилию т.н. "нехороших слов" в комментариях. Была даже опасность,
что исходники ядра кое-где могут запретить из цензурных соображений.
Так что если вы талантливый программист, увековечить свое имя на миллионах
компьютеров можно с такой же легкостью, как и гвоздем на стене.
<p>
Имена авторов, особенно в больших проектах с сотнями разработчиков,
иногда помещают в файле под именем CREDITS. Например, в исходниках ядра
linux-2.2.13 в этом файле список из 283 человек. Каждый программист,
сделавший значительный вклад в проект, имеет запись в этом файле
наподобие этой:
<blockquote><pre>
N: Alan Cox
W: http://roadrunner.swansea.linux.org.uk/alan.shtml
E: alan@lxorguk.ukuu.org.uk
E: alan@www.linux.org.uk (linux.org.uk stuff)
E: Alan.Cox@linux.org (if others fail)
D: Linux Networking (0.99.10-&gt;2.0.29)
D: Original Appletalk,AX.25,and IPX code
D: Current 3c501 hacker. More 3c501 info/tricks wanted
D: Watchdog timer drivers
D: Linux/SMP x86 (up to 2.0 only)
D: Initial Mac68K port
D: Video4Linux design,bw-qcam and PMS driver ports.
D: 2.1.x modular sound
S: c/o I2IT Limited
S: The Innovation Centre
S: Singleton Park
S: Swansea,SA2 8PP
S: Wales,United Kingdom
</pre></blockquote>
<p>
Это пример текстовой базы данных с полями из обычных строк, а первые
два символа в строке задают имя поля - N: для имени человека, W:
веб-страничка, E: электронный адрес, D: описание сделанного, S:
почтовый адрес.  Такие текстовые базы данных вместе с несколькими
простыми утилитами для их обработки позволяют легко и быстро извлечь
нужную информацию.  Например, чтобы подсчитать, сколько человек упомянуто
в списке CREDITS, наберем из командной строки:
<blockquote><pre>
... $ grep "^N:" CREDITS|wc -l
</pre></blockquote>
<p>
Команда grep сканирует файл в поиске указанного
контекста, и передает результат через т.н. конвейер следующей команде wc,
которая подсчитывает количество строк, слов и знаков (ключ -l показывает
только строки).  Если вы не знакомы с такими текстовыми утилитами, срочно
разыщите файл под именем textutils_2.0.tar.gz и попытайтесь установить
их в своей системе. Если вы можете выполнять команды на Юникс машине,
то эти утилиты уже обязаны там быть. С помощью этих утилит мы и попробуем
исполнить наш этюд.
<p>
Мы составим список самых результативных сопроводителей
(maintainer) из дистрибутива Debian. Этот проект основал в 1994г. Ян
Мэрдок (Ian Murdock), и он оказался важной и необходимой частью
движения GNU. Сам Ричард Столмен одобрил и назвал его официльным
дистрибутивом начатого им проекта GNU.  Особенностями Debian являются
открытая разработка, несколько поддерживаемых вычислительных платформ,
огромное количество программ, высокое качество и профессионализм.  Над
проектом Debian трудятся почти пол-тысячи разработчиков, кооперирующихся
через Сеть.  За много лет отработана уникальная система "дебианизации"
программ из интернет и раскинута широкая сеть зеркал архива. На основе
Debian построен дистрибутив Corel и несколько других.
<p>
Для начала давайте выйдем в Интернет и вытащим из архива
Debian список всех пакетов программ. Этот список интересен и сам по себе,
так как содержит описание всего мало-мальски интересного и свободно
доступного. Если у вас нет под рукой приличного командного процессора,
то же самое можно сделать и вручную.
<blockquote><pre>
... $ FTP="ftp.debian.org/debian/dists/potato"
... $ for i in main non-free contrib;do \
&gt; wget $FTP/$i/binary-i386/Packages.gz;\
&gt; gzip -cd Packages.gz &gt;&gt; debian-packages;rm Packages.gz;done
</pre></blockquote>
<p>
Для полноты картины сделаем то же самое и для архива
non-us.debian.org . Этот архив расположен в Голландии и хранит програмы,
которые из-за экспортных ограничений, существующих в США, нельзя держать
на основном сайте. Хотя таких программ немного, в некоторых случаях они
могут оказаться весьма важными, т.к. обеспечивают шифрование и защиту
информации.
<blockquote><pre>
... $ FTP="ftp://non-us.debian.org/debian-non-US/dists/potato/non-US"
... $ for i in main non-free contrib;do \
&gt; wget $FTP/$i/binary-i386/Packages.gz;\
&gt; gzip -cd Packages.gz &gt;&gt; debian-packages;rm Packages.gz;done
</pre></blockquote>
<p>
Эти команды для удобства разбиты на 3 строки, но так
же работает и одна длинная строка. Полученный файл debian-packages
представляет собой текстовую базу данных, имеющую следующие поля:
<blockquote><pre>
Package: textutils
Version: 2.0-2
Priority: required
Section: base
Essential: yes
Maintainer: Galen Hazelwood &lt;galenh@debian.org&gt;
Pre-Depends: libc6 (&gt;= 2.1)
Conflicts: ptx
Provides: ptx
Replaces: bsdmainutils (&lt;= 4.5.2),ptx
Architecture: i386
Filename: dists/unstable/main/binary-i386/base/textutils_2.0-2.deb
Size: 498524
MD5sum: 0aedf1cd8f4dd591ab66008db45aa431
Description: The GNU text file processing utilities.
 The utilities: cat cksum comm csplit cut expand fmt fold head join
 nl od paste pr ptx sort split sum tac tail tr tsort unexpand uniq wc.
installed-size: 1334
</pre></blockquote>
<p>
Названия полей говорят сами за себя. Добавлю лишь, что весь архив
разбит сначала на 2 версии - стабильную и экспериментальную. Эти версии
дистрибутивов имеют соответственно имена slink и potato.     Затем каждый
дистрибутив разбит на 3 секции : main, non-free и contrib. Первая и
самая большая из них полностью удовлетворяет требованиям проекта Debian
и его политике. Программы в секциях non-free и contrib имеют некоторые
ограничения на распространение или как-то иначе не выдерживают строгих
требований ревнителей чистоты Debian.  Отдельно хранятся исходники, общие
для всех типов процессоров, и откомпилированные пакеты для нескольких
платформ. Далее каждая секция разбивается на 26 каталогов, и каждый
пакет хранится в каталоге в соответствии со своим назначением.
<p>
Теперь, когда огромный список программ получен и есть некоторое
представление об устройстве архива, обратим внимание на поле
"Maintainer:". Там стоит имя человека, который является посредником между
автором программы и нами, пользователями. Этот посредник встраивает данную
конкретную программу в сложную систему, исправляет найденные ошибки,
отслеживает быстро развивающиеся версии ядра, библиотек, компиляторов,
интерпретаторов и проч. Кроме этого, в обязанность сопроводителя входит
затыкание обнаруженых дыр в защите системы и гарантия собственной цифровой
подписью целостности исходного кода и откомпилированного пакета. Эти
люди - наши благодетели.  СтОит только научиться пользоваться их опытом,
и на вас будет работать уникальная команда экспертов, собрать которую
можно только в Сети.
<p>
Подсчитаем количество пакетов в дистибутиве potato, который, кстати,
в начале 2000 года должен перейти из состояния unstable в состояние
frozen, а затем станет следующей стабильной версией.
<blockquote><pre>
... $ grep "^Package: " debian-packages|wc -l
</pre></blockquote>
<p>
У меня получилось 4485, но у вас может быть и больше. По
количеству программ дебьяновский архив превосходит даже известные
коллекции программ, куда помещают все подряд без разбора. Теперь таким
же образом выделим список сопроводителей, попутно еще одной текстовой
утилитой cut обрежем первые 12 символов, общие для всех строк:
<blockquote><pre>
... $ grep "^Maintainer:" debian-packages|cut -c 13-|less
</pre></blockquote>
<p>
В списке много повторяющихся фамилий - это значит, что
человек сопровождает несколько пакетов. Попробуем узнать, кто же из них
чемпион? Сделать это нам помогут еще пара утилит: sort и uniq. Вторая
из них может в отсортированном списке подсчитать количество совпадающих
строк. Таким образом
<blockquote><pre>
... $ grep "^Maintainer:" debian-packages|cut -c 13-|sort|uniq -c|less
</pre></blockquote>
<p>
уже выдает нам интереснейший список. Но внимательно на
него посмотрев, обнаруживаем, что у некоторых сопроводителей по нескольку
e-mail адресов, так что наш список не совсем точен. Уберем эти адреса -
нас интересуют только люди. Воспользуемся потоковым редактором sed -
программкой, выполняющей ряд заданных команд редактирования для каждой
строки.
<blockquote><pre>
... $ grep "^Maintainer:" debian-packages|cut -c 13-|sed 's/ *<.*>//'\
&gt; |sort|uniq -c|less
</pre></blockquote>
<p>
Что-то команда стала слишком длинная. Давайте переименуем
файл debian-packages в более короткое имя pks, или еще лучше - сделаем
на него символическую ссылку (symbolic link):
<blockquote><pre>
... $ ln -s debian-packages pks
</pre></blockquote>
<p>
Можно было бы, конечно, сохранить промежуточный результат
в файле, но мы ведь почти у цели - рейтинг-листа сопроводителей проекта
Debian, подлинных героев невидимого фронта.
<blockquote><pre>
$ grep "^Maintainer:" pks|cut -c 13-|sed 's/ *<.*>//'\
&gt; |sort|uniq -c|sort -k1nr -k2f|less
</pre></blockquote>
<p>
Готово! Вторая команда sort выстроила список по убыванию
сопровождаемых пакетов, а при одинаковом количестве - по алфавиту,
игнорируя регистр букв. Приведу еще одну версию нашей однострочной
программки и ее результат:
<blockquote><pre>
$ awk -F" &lt;" '/^Maintainer:/{print $1}' pks|cut -c 13-\
&gt; |sort|uniq -c|sort -k1nr -k2f|head -n 20
     87	Joey Hess
     80	Herbert Xu
     66	Adrian Bridgett
     62	James LewisMoss
     59	Adam Heath
     56	Turbo Fredriksson
     53	Matthias Klose
     52	Takuo KITAME
     51	Branden Robinson
     51	Gergely Madarasz
     51	Michael Alan Dorman
     47	Debian QA Group
     44	David Engel
     41	Charles Briscoe-Smith
     39	Santiago Vila
     38	Andrea Fanfani
     37	Torsten Landschoff
     36	Josip Rodin
     36	Martin Mitchell
     35	Debian GCC maintainers
</pre></blockquote>
<p>
В этот список попали два коллективных сопроводителя: Debian QA Group с
47 пакетами и GCC maintainers с 35.  Первый нечто вроде группы контроля
качества (Quality Assurance), а вторая группа следит за GNU Compiler
Collection - именно так теперь расшифровывается GCC. Тем удивительнее
производительность некоторых сопроводителей, обошедших целые коллективы.
А долговременный чемпион Joey Hess сопровождает также и весь мастер-архив
проекта Debian, и является автором множества скриптов, автоматизирующих
дебианизацию новых программ.
<p>
Если у вас возникли вопросы о возможностях использованных утилит и
программ, можете обратиться к подробнейшей документации, имеющейся в
исходниках и установленной on-line на многих Юникс-системах. Например :
<blockquote><pre>
... $ info -f textutils
</pre></blockquote>
<p>
Так же подробно описаны sed и gawk - GNU вариант языка
запросов awk.  К сожалению, хотя дистрибутив Debian содержит
документацию на многих языках, русского среди них нет. Море
полезной информации на эту тему имеется на сервере 
<a href="http://www.citforum.ru/operating_systems/unix.shtml">ЦитФорум</a>.
<p>
В заключение, воздав хвалу таланту и бескорыстию авторов открытых
программ, хочу обратить внимание на один тревожный факт - очень редко
встречающиеся фамилии из бывшего СССР. Вот некоторые имена, попавшие в
почетные списки в крупных проектах: Олег Дрокин из Евпатории, Юрий Пер из
Тулы в списке 283 из файла CREDITS ядра версии 2.2.13. Алексей Кузнецов
(Москва?) в списке действующих MAINTAINERS этой же версии. Упоминаются
как авторы правок к ядру также Al[exander] Viro, Boris Tobotras,
Sergey Smitienko, Savochkin Andrey Vladimirovich.  Точно знаю, что
под именем Solar Designer также скрывается наш человек.  В проекте
Debian среди почти полутысячи сопроводителей отыскал похожие на русские
имена: Dima Barsky, Alexander Yukhimets, Igor Grobman.  В новый набор
добровольцев попали и успешно трудятся Петя Новодворский, Антон Зиновьев,
Саша Котельников. Вспоминаю еще Андрея Чернова, известного человека из
мира FreeBSD.
<p>
Даже если я не упомянул или не нашел многих наших, уже могу утверждать
- ex-СССР представлен среди лидеров открытого программирования
непропорционально мало. Это повод для беспокойства более серьезного,
чем в случае спортивных поражений. Отставание в программировании может
иметь далеко идущие последствия для экономики наших стран и для их
информационной безопасности. Но это тема другой статьи - см. полемическую
заметку <a href="crisis_prog.html">Кризис в программном обеспечении и
способы его преодоления</a>
</td></tr><tr><td colspan=2 align=center>
<img src=../img/footer.gif border=0 usemap=#gulag alt="Олег Филон, Дм. Федорович, Ал-др Качанов">
<map name=gulag>
<area shape="rect" coords="0,10,130,25" href=../articles/articles.html alt="Статьи Олега Филона" title=ophil>
<area shape="rect" coords="0,25,51,37" href=../articles/articles.html alt="Статьи Олега Филона" title=ophil>
<area shape="rect" coords="140,25,317,40" href=http://www.stihi.ru/avtor/fedorovich alt="Литературная страница Дм. Федоровича" title=df>
<area shape="rect" coords="60,40,317,55" href=http://www.stihi.ru/avtor/fedorovich alt="Литературная страница Дм. Федоровича" title=df>
<area shape="rect" coords="290,5,440,20" href=http://www.webmascon.com alt="дизайн А. Качанова" title=community>
<area shape="rect" coords="343,20,440,38" href=http://www.webmascon.com alt="дизайн А. Качанова" title=community>
<area shape="default" href=../articles/articles.html alt="Статьи Олега Филона" title=ophil>
</map></td></tr>
</table>
</body>
</html>
